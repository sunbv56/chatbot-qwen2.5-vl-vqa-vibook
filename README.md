# Vibook VQA Chatbot

A Visual Question Answering (VQA) chatbot web application using FastAPI, Hugging Face Transformers, and a local Qwen2.5-VL model. The app allows users to upload book cover images and ask questions about them, receiving answers generated by the model.

## Features
- Visual Question Answering (VQA) on book cover images
- FastAPI backend with HTML frontend
- Local model loading for offline/secure use
- Example assets auto-downloaded on startup

## Project Structure
```
chatbot-flask-qwen2.5-vl-vqa-vibook/
├── app.py                # Main FastAPI app
├── requirements.txt      # Python dependencies
├── static/               # Static files (JS, CSS)
├── templates/            # Jinja2 HTML templates
├── assets/               # Example images (auto-downloaded)
└── local-model/ (if error in load model from huggingface)
    └── qwen2.5-vl-vqa-vibook/  # Model and processor files (my model fine tuned by LoRA)
```

## Setup Instructions

### 1. Clone the repository
```bash
git clone <repo-url>
cd chatbot-flask-qwen2.5-vl-vqa-vibook
```

### 2. Install dependencies
It is recommended to use a virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. Download the model (if not present)
- The model files should be placed in `local-model/qwen2.5-vl-vqa-vibook/`.
- You can use the provided local model or download from Hugging Face if you have access.

### 4. Run the application
```bash
python app.py
```
- The server will start and print a local network URL (e.g., `http://192.168.x.x:8000`).
- Open this URL in your browser.

## Usage
- Upload a book cover image and enter a question in the web interface.
- The model will process the image and question, returning an answer.
- Example images are available in the `assets/` folder.

## API
### POST `/vqa`
- **Form fields:**
  - `question`: The question string
  - `image`: The image file (jpg/png)
- **Response:**
  - JSON with `question` and `answer` fields

## Model
- Uses [Qwen2.5-VL](https://huggingface.co/sunbv56/qwen2.5-vl-vqa-vibook) (or local copy)
- Runs on CPU (float16)
- Model and processor loaded via Hugging Face Transformers

## Notes
- On first run, example images are downloaded to `assets/`.
- If the model fails to load, check the model files and paths.
- For LAN access, the server binds to `0.0.0.0`.

## License
This project is for research and educational purposes. See model license for details. 